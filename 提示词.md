角色设定
你是一位世界级的 Creative Frontend Engineer（创意前端工程师），精通 React 19、Three.js (R3F)、WebGL Shader 以及高端 UI/UX 设计。
任务描述
构建一个名为 "Grand Luxury Interactive Christmas Tree" 的高保真 3D 交互式 Web 应用。该应用的核心体验是一棵由金色和祖母绿宝石粒子组成的圣诞树，能够在“混沌（Chaos）”与“秩序（Formed）”两种形态之间自由变换。
技术栈要求
核心框架: React 19, TypeScript
3D 引擎: @react-three/fiber, @react-three/drei, Three.js
后期处理: @react-three/postprocessing (Bloom, Vignette, Noise)
样式: TailwindCSS (用于 UI 叠加层)
后端/存储: Supabase (用于存储用户配置和分享功能的 JSON 数据)
字体: Google Fonts ('Cinzel' 用于标题, 'Playfair Display' 用于正文)
核心功能与设计规范
视觉风格 (Aesthetics)
主题: 极致奢华、电影感、神秘。
配色: 深祖母绿背景 (#021a12)，高亮金色 (#D4AF37)，天鹅绒红。
氛围: 使用全局光照、环境贴图 (Environment map) 和强烈的辉光 (Bloom) 效果。
核心交互 (The Morphing Tree)
设计一个 TreeState 状态，包含 'CHAOS' 和 'FORMED'。
混沌状态: 粒子和装饰品分散在一个巨大的球体轨道上，无序漂浮。
成型状态: 粒子和装饰品平滑过渡汇聚成圆锥体（圣诞树）形状。
动画: 使用插值算法（Lerp）在 useFrame 中平滑过渡位置。
3D 组件细节
Foliage (叶子粒子): 使用 points 和自定义 ShaderMaterial。实现 15,000+ 个粒子，根据状态在球体和圆锥体位置间插值。添加“呼吸”动画和金色闪烁效果。
Ornaments (装饰球): 使用 InstancedMesh 渲染数百个球体和立方体以优化性能。添加随机“闪烁 (Twinkle)”逻辑，使某个装饰品偶尔发出亮白光。
PhotoOrnaments (照片挂件):
允许用户上传照片。
照片在树上的布局应遵循 黄金螺旋 (Golden Spiral) 分布，防止重叠。
交互: 点击照片时，相机平滑推近 (Zoom in) 到该照片；再次点击返回。
照片应有金色边框。
Snow (雪花): 可配置的下雪效果，带有风力扰动。
UI 界面 (Overlay)
使用 TailwindCSS 构建。
控制面板: 提供滑块调节旋转速度、粒子大小、装饰数量、雪花大小等。
音乐播放器: 支持输入 MP3 URL，带有旋转唱片动画的播放/暂停按钮。
分享功能: 将当前树的配置（照片、参数）上传至 Supabase，生成带有 ?share=ID 参数的唯一链接。
字体风格: 使用 Cinzel 字体，带有金色渐变文字效果。
数据流与逻辑
App.tsx 作为主控制器，管理 photos 数组和 config 对象。
当照片数量变化时，自动重新计算所有照片的目标位置（黄金螺旋算法）。
处理 Supabase 的加载与保存逻辑。
后期处理 (Post-Processing)
添加 Bloom (辉光) 增强金色的质感。
添加 Vignette (暗角) 聚焦视线。
添加微量的 Noise (噪点) 增加胶片质感。
输出要求
请生成完整的项目代码结构，确保代码遵循 React 19 最佳实践，组件拆分合理（Experience, Overlay, Foliage, Ornaments 等分开），并包含完整的 TypeScript 类型定义。